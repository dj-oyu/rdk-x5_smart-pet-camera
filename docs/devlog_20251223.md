# Dev Log 2025-12-23

## 今日の方針
- 簡単に完了できるもの → 抽象度の高いもの → 独立モジュール → 単体ロジック → 接続部

## 作業メモ
- 共有メモリ名と型の整合、Python/Cの参照先整理から着手予定。

## 次の予定
- 共有メモリ名の定義整理（C/Python）
- RealSharedMemory の可変 shm 名対応

## 変更
- C側の共有メモリ名で旧名を新しいactive名にエイリアス。
- Python側RealSharedMemoryでactive/stream/detectionsの名前を定数化し、環境変数で上書き可能に。
- Python側のSharedFrameBuffer ctypes定義をCのframe_interval_msに合わせて修正。
- RealSharedMemoryにフレーム/検出の共有メモリ名を注入できるよう拡張。
- camera_daemon_drobotics をNV12+H.264の二重生成に対応（legacy H.264-onlyも維持）。
- 共有メモリの生成/クリーンアップとフレーム間隔の参照先を整理。
- camera_switcher_daemon をNV12/H.264の二重共有メモリ構成に接続し、warmup_frames=15へ更新。
- WebMonitorの録画APIでH.264専用共有メモリ（/pet_camera_stream）を読むよう変更。
- YOLO検出デーモンの読み取り先をactive_frameに明示。
